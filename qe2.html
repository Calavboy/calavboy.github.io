<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brainrot Rizzler Game</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.15); }
      100% { transform: scale(1); }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .pulse { animation: pulse 0.3s ease-in-out; }
    .fade-in { animation: fadeIn 0.5s ease-in-out; }
    .dark body {
      background: linear-gradient(to bottom right, #4b0082, #8b0000, #191970);
    }
    .dark .bg-white\/90 {
      background-color: rgba(30, 30, 30, 0.9);
    }
    .dark h1, .dark #output, .dark #level, .dark #clickCount, .dark #rizzPoints, .dark h2, .dark span {
      color: #f0f0f0;
    }
    .dark #warning {
      color: #ffcccb;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 min-h-screen flex flex-col items-center justify-center p-4 font-sans">
  <div class="bg-white/90 backdrop-blur-md rounded-2xl shadow-2xl p-6 w-full max-w-md">
    <h1 class="text-3xl font-bold text-center text-gray-800 mb-4">Brainrot Rizzler Game</h1>
    <button id="brainrotButton" class="w-full py-4 text-xl font-semibold text-white bg-red-500 rounded-lg hover:bg-red-600 transition-transform duration-200">Click for Brainrot!</button>
    <div id="output" class="mt-4 text-2xl text-center text-gray-800">What's your brainrot level?</div>
    <div id="warning" class="mt-2 text-lg text-center text-red-600 hidden"></div>
    <div id="level" class="mt-2 text-xl font-bold text-center text-red-500">Level: None</div>
    <div id="clickCount" class="mt-2 text-lg text-center text-gray-600">Clicks: 0</div>
    <div id="rizzPoints" class="mt-2 text-lg text-center text-gray-600">Rizz Points: 0</div>
    <div id="cps" class="mt-2 text-lg text-center text-gray-600">CPS: 0</div>
    <div id="passiveRate" class="mt-2 text-lg text-center text-gray-600">Passive Rizz/sec: 0</div>
    
    <div class="mt-6">
      <h2 class="text-lg font-semibold text-gray-800">Upgrades</h2>
      <div id="upgrades" class="mt-2 space-y-2 max-h-60 overflow-y-auto">
        <!-- Upgrades will be dynamically added here -->
      </div>
    </div>
    
    <div class="mt-6">
      <h2 class="text-lg font-semibold text-gray-800">Achievements</h2>
      <div id="achievements" class="mt-2 space-y-2">
        <!-- Achievements will be listed here -->
      </div>
    </div>
    
    <div class="mt-4 flex space-x-2">
      <button id="darkModeToggle" class="py-2 px-4 text-lg font-semibold text-white bg-indigo-500 rounded-lg hover:bg-indigo-600">Toggle Dark Mode</button>
      <button id="shareButton" class="py-2 px-4 text-lg font-semibold text-white bg-green-500 rounded-lg hover:bg-green-600">Share Score</button>
    </div>
    
    <div class="mt-4 flex space-x-2">
      <input id="adminCodeInput" type="text" placeholder="Enter Admin Code" class="py-2 px-4 rounded-lg border border-gray-300">
      <button id="adminSubmit" class="py-2 px-4 text-lg font-semibold text-white bg-purple-500 rounded-lg hover:bg-purple-600">Submit</button>
    </div>
    
    <div class="mt-4 flex space-x-2">
      <input id="customPhraseInput" type="text" placeholder="Add Custom Phrase" class="py-2 px-4 rounded-lg border border-gray-300">
      <button id="addPhraseButton" class="py-2 px-4 text-lg font-semibold text-white bg-blue-500 rounded-lg hover:bg-blue-600">Add</button>
    </div>
    
    <button id="prestigeButton" class="mt-4 w-full py-2 text-lg font-semibold text-white bg-orange-500 rounded-lg hover:bg-orange-600 disabled:bg-gray-400" disabled>Prestige (Requires 1000 Clicks)</button>
    <button id="resetButton" class="mt-4 w-full py-2 text-lg font-semibold text-white bg-gray-500 rounded-lg hover:bg-gray-600">Reset Brainrot</button>
  </div>

  <script>
    const brainrotPhrases = [
      "Skibidi toilet got me acting unwise ðŸ˜­",
      "Ohio energy only ðŸš«",
      // ... (all previous phrases)
      "Karen alert in Ohio ðŸš”"
    ]; // Assume full list here

    const button = document.getElementById('brainrotButton');
    const output = document.getElementById('output');
    const warning = document.getElementById('warning');
    const levelDisplay = document.getElementById('level');
    const clickCountDisplay = document.getElementById('clickCount');
    const rizzPointsDisplay = document.getElementById('rizzPoints');
    const cpsDisplay = document.getElementById('cps');
    const passiveRateDisplay = document.getElementById('passiveRate');
    const resetButton = document.getElementById('resetButton');
    const darkModeToggle = document.getElementById('darkModeToggle');
    const shareButton = document.getElementById('shareButton');
    const adminCodeInput = document.getElementById('adminCodeInput');
    const adminSubmit = document.getElementById('adminSubmit');
    const customPhraseInput = document.getElementById('customPhraseInput');
    const addPhraseButton = document.getElementById('addPhraseButton');
    const prestigeButton = document.getElementById('prestigeButton');
    const upgradesContainer = document.getElementById('upgrades');
    const achievementsContainer = document.getElementById('achievements');

    let clickCount = 0;
    let rizzPoints = 0;
    let rizzPerClick = 1;
    let passiveRate = 0;
    let prestigeLevel = 0;
    let lastClickTime = 0;
    let clickTimes = [];
    let fastClickCount = 0;
    let isAdmin = false;
    let clickHistory = []; // For CPS
    let audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    let achievements = [
      { name: 'First Click', unlocked: false, condition: () => clickCount >= 1 },
      { name: 'Brainrot Beginner', unlocked: false, condition: () => clickCount >= 10 },
      { name: 'Rizz Collector', unlocked: false, condition: () => rizzPoints >= 100 },
      { name: 'Upgrade Master', unlocked: false, condition: () => upgradeButtons.filter(u => u.purchased).length >= 5 },
      { name: 'Passive Pro', unlocked: false, condition: () => passiveRate >= 1 },
      { name: 'Fast Clicker', unlocked: false, condition: () => calculateCPS() >= 5 },
      { name: 'Prestige Pioneer', unlocked: false, condition: () => prestigeLevel >= 1 },
      { name: 'Infinite Rizz', unlocked: false, condition: () => rizzPoints >= 10000 },
      { name: 'Custom Creator', unlocked: false, condition: () => brainrotPhrases.length > 50 }, // Assuming original ~50
      { name: 'Dark Mode Dabbler', unlocked: false, condition: () => document.body.classList.contains('dark') }
    ];

    const upgradeData = [
      { name: 'Mega Rizz Boost', cost: 50, boost: 1, type: 'click' },
      { name: 'Sigma Drip', cost: 100, boost: 2, type: 'click' },
      { name: 'Skibidi Aura', cost: 200, boost: 5, type: 'click' },
      { name: 'Gyatt Amplifier', cost: 500, boost: 10, type: 'click' },
      { name: 'Mewing Master', cost: 1000, boost: 20, type: 'click' },
      { name: 'Fanum Tax Evader', cost: 2000, boost: 50, type: 'click' },
      { name: 'Ohio Overlord', cost: 5000, boost: 100, type: 'click' },
      { name: 'Rizz God', cost: 10000, boost: 200, type: 'click' },
      { name: 'Passive Sigma', cost: 300, boost: 1, type: 'passive' },
      { name: 'Aura Farmer', cost: 600, boost: 2, type: 'passive' },
      { name: 'Delulu Dreamer', cost: 1200, boost: 5, type: 'passive' },
      { name: 'Vibe Checker', cost: 2500, boost: 10, type: 'passive' },
      { name: 'Sus Booster', cost: 5000, boost: 20, type: 'passive' }
    ];

    let upgradeButtons = [];

    function createUpgrades() {
      upgradesContainer.innerHTML = '';
      upgradeData.forEach((data, index) => {
        const upgradeDiv = document.createElement('div');
        upgradeDiv.classList.add('flex', 'justify-between', 'items-center');
        const span = document.createElement('span');
        span.innerText = `${data.name} (+${data.boost} per ${data.type === 'click' ? 'click' : 'sec'})`;
        const btn = document.createElement('button');
        btn.id = `upgrade${index + 1}`;
        btn.classList.add('py-1', 'px-3', 'bg-blue-500', 'text-white', 'rounded', 'hover:bg-blue-600', 'disabled:bg-gray-400');
        btn.disabled = true;
        upgradeDiv.appendChild(span);
        upgradeDiv.appendChild(btn);
        upgradesContainer.appendChild(upgradeDiv);
        upgradeButtons.push({ button: btn, ...data, purchased: false });
      });
      updateUpgrades();
    }

    function playBeep() {
      const oscillator = audioCtx.createOscillator();
      oscillator.type = 'sine';
      oscillator.frequency.setValueAtTime(440, audioCtx.currentTime);
      oscillator.connect(audioCtx.destination);
      oscillator.start();
      setTimeout(() => oscillator.stop(), 100);
    }

    function calculateCPS() {
      const now = Date.now();
      clickHistory = clickHistory.filter(time => now - time < 1000);
      return clickHistory.length;
    }

    function updateAchievements() {
      achievements.forEach(ach => {
        if (!ach.unlocked && ach.condition()) {
          ach.unlocked = true;
          showWarning(`Achievement Unlocked: ${ach.name}!`);
        }
      });
      achievementsContainer.innerHTML = achievements.filter(ach => ach.unlocked).map(ach => `<div class="text-sm text-gray-600">${ach.name}</div>`).join('');
    }

    function saveProgress() {
      const saveData = {
        clickCount,
        rizzPoints,
        rizzPerClick,
        passiveRate,
        prestigeLevel,
        purchasedUpgrades: upgradeButtons.map(u => u.purchased),
        brainrotPhrases,
        isDark: document.body.classList.contains('dark')
      };
      localStorage.setItem('brainrotSave', JSON.stringify(saveData));
    }

    function loadProgress() {
      const saveData = JSON.parse(localStorage.getItem('brainrotSave'));
      if (saveData) {
        clickCount = saveData.clickCount || 0;
        rizzPoints = saveData.rizzPoints || 0;
        rizzPerClick = saveData.rizzPerClick || 1;
        passiveRate = saveData.passiveRate || 0;
        prestigeLevel = saveData.prestigeLevel || 0;
        if (saveData.purchasedUpgrades) {
          saveData.purchasedUpgrades.forEach((p, i) => upgradeButtons[i].purchased = p);
        }
        if (saveData.brainrotPhrases) brainrotPhrases.splice(0, brainrotPhrases.length, ...saveData.brainrotPhrases);
        if (saveData.isDark) document.body.classList.add('dark');
        updateDisplay();
      }
    }

    function updateDisplay() {
      clickCountDisplay.innerText = `Clicks: ${clickCount}`;
      rizzPointsDisplay.innerText = `Rizz Points: ${rizzPoints}`;
      passiveRateDisplay.innerText = `Passive Rizz/sec: ${passiveRate}`;
      cpsDisplay.innerText = `CPS: ${calculateCPS()}`;
      updateLevel();
      updateUpgrades();
      updateAchievements();
      prestigeButton.disabled = clickCount < 1000;
    }

    function updateLevel() {
      let level = 'None';
      let color = '#ef4444';
      if (clickCount > 0 && clickCount <= 5) {
        level = 'Mild Brainrot';
        color = '#22c55e';
      } else if (clickCount <= 10) {
        level = 'Moderate Brainrot';
        color = '#eab308';
      } else if (clickCount <= 20) {
        level = 'Severe Brainrot';
        color = '#f97316';
      } else {
        level = 'Terminal Brainrot';
        color = '#b91c1c';
      }
      levelDisplay.innerText = `Level: ${level}`;
      button.style.backgroundColor = color;
    }

    function updateUpgrades() {
      upgradeButtons.forEach(upgrade => {
        upgrade.button.disabled = rizzPoints < upgrade.cost || upgrade.purchased;
        upgrade.button.innerText = upgrade.purchased ? 'Purchased!' : `Cost: ${upgrade.cost} Rizz`;
      });
    }

    function showWarning(message) {
      warning.innerText = message;
      warning.classList.remove('hidden');
      setTimeout(() => warning.classList.add('hidden'), 3000);
    }

    function detectAutoclicker(now) {
      if (isAdmin) return false;
      const timeDiff = now - lastClickTime;
      lastClickTime = now;
      if (timeDiff < 50) {
        fastClickCount++;
      } else {
        fastClickCount = 0;
      }
      if (fastClickCount >= 3) {
        resetProgress(true);
        showWarning("Autoclicker detected! Progress reset.");
        return true;
      }
      return false;
    }

    function resetProgress(isCheat = false) {
      clickCount = 0;
      rizzPoints = 0;
      rizzPerClick = 1 + prestigeLevel * 0.5;
      passiveRate = 0;
      clickTimes = [];
      fastClickCount = 0;
      clickHistory = [];
      upgradeButtons.forEach(upgrade => upgrade.purchased = false);
      output.innerText = isCheat ? "Cheater! Reset." : "What's your brainrot level?";
      updateDisplay();
      saveProgress();
    }

    button.addEventListener('click', () => {
      const now = Date.now();
      if (detectAutoclicker(now)) return;
      clickCount++;
      rizzPoints += rizzPerClick;
      clickHistory.push(now);
      const randomPhrase = brainrotPhrases[Math.floor(Math.random() * brainrotPhrases.length)];
      output.innerText = randomPhrase;
      output.classList.remove('fade-in');
      void output.offsetWidth;
      output.classList.add('fade-in');
      button.classList.add('pulse');
      setTimeout(() => button.classList.remove('pulse'), 300);
      playBeep();
      updateDisplay();
      saveProgress();
    });

    upgradeButtons.forEach((upgrade) => {
      upgrade.button.addEventListener('click', () => {
        if (rizzPoints >= upgrade.cost && !upgrade.purchased) {
          rizzPoints -= upgrade.cost;
          if (upgrade.type === 'click') {
            rizzPerClick += upgrade.boost;
          } else {
            passiveRate += upgrade.boost;
          }
          upgrade.purchased = true;
          updateDisplay();
          saveProgress();
          showWarning(`Purchased ${upgrade.name}!`);
        }
      });
    });

    resetButton.addEventListener('click', () => {
      resetProgress();
      showWarning("Progress reset, start fresh!");
    });

    darkModeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      updateAchievements();
      saveProgress();
    });

    shareButton.addEventListener('click', () => {
      const text = `My Brainrot Score: ${rizzPoints} Rizz Points with ${clickCount} Clicks!`;
      navigator.clipboard.writeText(text).then(() => showWarning('Score copied to clipboard!'));
    });

    adminSubmit.addEventListener('click', () => {
      if (adminCodeInput.value === '5555') {
        rizzPoints = 999999999;
        clickCount = 999999;
        isAdmin = true;
        showWarning('Admin Mode Activated: Unlimited Rizz!');
        updateDisplay();
        saveProgress();
      } else {
        showWarning('Invalid Admin Code!');
      }
      adminCodeInput.value = '';
    });

    addPhraseButton.addEventListener('click', () => {
      const phrase = customPhraseInput.value.trim();
      if (phrase) {
        brainrotPhrases.push(phrase);
        showWarning('Custom Phrase Added!');
        updateAchievements();
        saveProgress();
      }
      customPhraseInput.value = '';
    });

    prestigeButton.addEventListener('click', () => {
      if (clickCount >= 1000) {
        prestigeLevel++;
        resetProgress();
        showWarning(`Prestiged! Now at level ${prestigeLevel} with ${rizzPerClick} per click.`);
        updateAchievements();
      }
    });

    // Passive income interval
    setInterval(() => {
      rizzPoints += passiveRate;
      updateDisplay();
    }, 1000);

    // CPS update interval
    setInterval(() => {
      cpsDisplay.innerText = `CPS: ${calculateCPS()}`;
    }, 500);

    // Auto-save every 30 seconds
    setInterval(saveProgress, 30000);

    // Initialize
    createUpgrades();
    loadProgress();
    updateDisplay();
  </script>
</body>
</html>
